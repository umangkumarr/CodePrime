---
displayed_sidebar: null
title: ""
---

<div style={ {lineHeight:"0px"} }> <h1>Twenty-two Foolish Primes</h1>
<sub>This problem is a programming version of <a href="https://projecteuler.net/problem=239">Problem 239</a> from <a href="https://projecteuler.net/">projecteuler.net</a></sub></div>
<br />

### Problem



A set of disks numbered  through  are placed in a line in random order.
What is the probability that we have a partial derangement such that exactly  prime number discs are found away from their natural positions? (Any number of non-prime disks may also be found in or out of their natural positions.)
It can be shown that for a given constraints the answer can be represented as , where  and  are coprime positive integers and . Print the value of  modulo .